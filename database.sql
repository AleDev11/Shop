CREATE TABLE IF NOT EXISTS `catalog` (`id` int(11) NOT NULL AUTO_INCREMENT, `label` varchar(55) DEFAULT NULL, `status` int(11) DEFAULT 1, PRIMARY KEY (`id`)) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf32 COLLATE=utf32_general_ci;
INSERT INTO `catalog` (`id`, `label`, `status`) VALUES (1, 'Acción', 1),(2, 'Aventura', 1),(3, 'Comedia', 1),(4, 'Terror', 1),(5, 'Romantica', 1),(6, 'Ciencia Ficción', 1);
CREATE TABLE IF NOT EXISTS `products` (`id` int(11) NOT NULL AUTO_INCREMENT,`name` varchar(55) DEFAULT NULL,`description` varchar(255) DEFAULT NULL,`catalog` int(11) NOT NULL,`price` float DEFAULT NULL,`status` int(11) DEFAULT 1,PRIMARY KEY (`id`),KEY `FK_products_catalog` (`catalog`),CONSTRAINT `FK_products_catalog` FOREIGN KEY (`catalog`) REFERENCES `catalog` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION) ENGINE=InnoDB AUTO_INCREMENT=27 DEFAULT CHARSET=utf32 COLLATE=utf32_general_ci;
INSERT INTO `products` (`id`, `name`, `description`, `catalog`, `price`, `status`) VALUES (2, 'Amelie', 'This a description', 3, 20, 1),(3, 'Bridesmaids', 'This a description', 3, 20, 1),(4, 'El Gran Lebowski', 'This a description', 3, 20, 1),(5, 'Intocable', 'This a description', 3, 20, 1),(6, 'Loco y Estúpido Amor', 'This a description', 3, 20, 1),(7, 'Monty Python y el Santo Grial', 'This a description', 3, 20, 1),(8, 'La Princesa Prometida', 'This a description', 3, 20, 1),(9, 'Superbad', 'This a description', 3, 20, 1),(10, 'The Hangover', 'This a description', 3, 20, 1),(11, 'This Is Spinal Tap', 'This a description', 3, 20, 1),(12, 'Duro de Matar', 'This a description', 1, 20, 1),(13, 'El Caballero de la Noche', 'This a description', 1, 20, 1),(14, 'Gladiator', 'This a description', 1, 20, 1),(15, 'John Wick', 'This a description', 1, 20, 1),(16, 'Kill Bill', 'This a description', 1, 20, 1),(17, 'Mad Max: Furia en el Camino', 'This a description', 1, 20, 1),(18, 'Misión Imposible: Protocolo Fantasma', 'This a description', 1, 20, 1),(19, 'Terminator 2: El Juicio Final', 'This a description', 1, 20, 1),(20, 'The Raid: Redención', 'This a description', 1, 20, 1),(21, 'The Matrix', 'This a description', 1, 20, 1);
CREATE TABLE IF NOT EXISTS `users_types` (`id` int(11) NOT NULL AUTO_INCREMENT,`label` varchar(55) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,PRIMARY KEY (`id`)) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf32 COLLATE=utf32_general_ci;
INSERT INTO `users_types` (`id`, `label`) VALUES(1, 'Admin'),(2, 'Client');
CREATE TABLE IF NOT EXISTS `users` (`id` int(11) NOT NULL AUTO_INCREMENT,`username` varchar(55) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,`email` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,`password` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,`user_type` int(11) NOT NULL DEFAULT 2,PRIMARY KEY (`id`),UNIQUE KEY `email` (`email`),KEY `FK_users_users_types` (`user_type`),CONSTRAINT `FK_users_users_types` FOREIGN KEY (`user_type`) REFERENCES `users_types` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf32 COLLATE=utf32_general_ci;
INSERT INTO `users` (`id`, `username`, `email`, `password`, `user_type`) VALUES(1, 'Admin', 'admin@gmail.com', 'admin', 1);
CREATE TABLE IF NOT EXISTS `invoice_header` (`id` int(11) NOT NULL AUTO_INCREMENT,`user_id` int(11) NOT NULL DEFAULT 0,`time` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),PRIMARY KEY (`id`),KEY `FK__users` (`user_id`),CONSTRAINT `FK__users` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION) ENGINE=InnoDB AUTO_INCREMENT=20 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
CREATE TABLE IF NOT EXISTS `invoice_detail` (`id_invoice` int(11) NOT NULL,`id_line` int(11) NOT NULL,`id_product` int(11) NOT NULL,`quantity` int(11) NOT NULL,KEY `FK__invoice_header` (`id_invoice`),KEY `FK__products` (`id_product`),CONSTRAINT `FK__invoice_header` FOREIGN KEY (`id_invoice`) REFERENCES `invoice_header` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,CONSTRAINT `FK__products` FOREIGN KEY (`id_product`) REFERENCES `products` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;